<script defer src="js/profile.js"></script>
<script defer src="js/alerts.js"></script>
<link rel="stylesheet" href="styles/profile.css">
  <br></br>

<h1 id='hello'>Здравствуйте, {{name}}</h1>
<div class="row" id="nav">
<div class='col-sm-3 col-md-2 col-xs-12'>
  <ul class="nav flex-row">
    <li class="nav-item">
      {{#if mydata}}
      <a class="btn btn-primary btn-sm" aria-current="page" href="/profile?mydata=1" id="mydata">Мои данные</a>
      {{else}}
      <a class="btn btn-sm" aria-current="page" href="/profile?mydata=1" id="mydata">Мои данные</a>
      {{/if}}
    </li>
    <li class="nav-item">
      {{#if myorders}}
      <a class="btn btn-primary btn-sm" href="/profile?myorders=2">Мои заказы</a>
      {{else}}
      <a class="btn btn-sm" href="/profile?myorders=2">Мои заказы</a>
      {{/if}}
    <li class="nav-item">
      {{#if successorder}}
      <a class="btn btn-primary btn-sm" href="/profile?successorder=3">Готовые работы</a>
      {{else}}
      <a class="btn btn-sm" href="/profile?successorder=3">Готовые работы</a>
      {{/if}}
    </li>
    <li class="nav-item">
      {{#if neworder}}
      <a class="btn btn-primary btn-sm" href="/profile?neworder=4">Заказать работу</a>
      {{else}}
      <a class="btn btn-sm" href="/profile?neworde=4">Заказать работу</a>
      {{/if}}
    </li>
  </ul>
  </div>
  {{#if mydata}}
<div class='col-sm-9 col-md-10 col-xs-12'>
  <div class="mb-3">
        <label class="form-label">Имя:</label>
        <input type="text" class="form-control" id="userName" value="{{name.phone}}">
      </div>
      <div class="mb-3">
        <label class="form-label">Электронная почта:</label>
        <input type="email" class="form-control" id="userEmail" value="{{email}}">
      </div>
      <div class="mb-3">
        <label class="form-label">Телефон:</label>
        <input type="tel" class="form-control" id="userPhone" value="{{name.phone}}">
      </div>
      <button type="click" class="btn btn-primary" id="save" data-bs-toggle="popover" data-bs-placement="bottom" title="Предупреждение" data-bs-content="Убедитесь в валидности номера телефона или электронной почты">Сохранить изменения</button>
      <button type="click" class="btn btn-danger" id="showModal">Удалить профиль</button>
      <br></br>
      <div class="alert alert-primary invisible" id='submessage' role="alert">
      </div>
    <div class="mb-3 row">
    <h3>Изменить пароль:</h3>
     <div class="mb-3">
        <label for="pas" class="form-label">Cтарый пароль:</label>
        <input type="password" class="form-control" id="pas" aria-describedby="usernameHelp">
      </div>
      <div class="mb-3">
        <label for="newPas" class="form-label">Новый пароль:</label>
        <input type="password" class="form-control" id="newPas" aria-describedby="usernameHelp">
      </div>
      <div class="mb-3">
        <label for="newPasRepeat" class="form-label">Повторите новый пароль:</label>
        <input type="password" class="form-control" id="newPasRepeat" aria-describedby="emailHelp">
        <div class="form-text" id="for-new-password">We'll never share your password with anyone else.</div>
      </div>
      <div class="col-sm-10">
        <button type="button" class="btn btn-primary" id="savePassword" data-bs-toggle="popover" data-bs-placement="right" title="Предупреждение" data-bs-content="Введенные пароли совпадают?">Сохранить</button>
      </div>
      <br></br>
        <div class="alert alert-primary invisible" id='submessage2' role="alert">
      </div>
    </div>
  </div>

{{/if}}
{{#if myorders}}
 <div class='col-sm-9 col-md-10 col-xs-12'>
  <div class="mb-3 row">
    <div class='order-container'>
       <table class="table">
          <thead>
            <tr>
              <th scope="col">Номер заказа:</th>
              <th scope="col">Дата заказа:</th>
              <th scope="col">Тема:</th>
              <th scope="col">Предмет:</th>
              <th scope="col">Стоимость:</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th>ТУТ НОМЕР</th>
              <td>ТУТ ДАТА</td>
              <td>ТУТ ТЕМА</td>
              <td>ТУТ ПРЕДМЕТ</td>
              <td>ТУТ СТОИМОСТЬ</td>
            </tr>
            <tr>
          </tbody>
        </table>
      <div class='button-container'>
        <button class="btn btn-primary" id="">Обратная связь</button>
        <button class="btn btn-danger" id="showModalCancel">Отменить заказ</button>
      </div>
    </div>
    </div>
  </div>
  
</div>

{{/if}}
{{#if successorder}}
 <div class='col-sm-9 col-md-10 col-xs-12'>
  <div class="mb-3 row">
    <div class='order-container'>
       <div class="mb-3">
      <h4>Номер заказа:</h4>
        <span class="badge bg-primary">Информаци о заказе:</span> {{name}}</li>
        <button class="btn btn-outline-primary" id="download">Скачать</button>
    </div>
  </div>
  </div>
</div>
{{/if}}


{{#if neworder}}
<div class='col-sm-9 col-md-10 col-xs-12 order-box'>
  <div class="order-form">
    <form method="POST" action="/upload" enctype="multipart/form-data" name="newOrder">
    <div class="top-order-form">
      <div class="row">
        <div class="col-md-6 col-xs-12">
          <div class="row">
            <div class="col-sm-8">
              <label for="inputType" class="label-order">Тип работы</label>
              <select id="inputType" class="form-select" name ="type">
                <option selected="" disabled="disabled">Выберите тип работы</option>
                <option value="type0">Диплом</option>
                <option value="type1">Курсовая</option>
                <option value="type2">Реферат</option>
              </select>
            </div>
            <div class="col-sm-4">
              <label for="inputPages" class="label-order">Кол-во страниц</label>
              <input class="form-control" id="inputPages" name="pages" type="text" min="1">
            </div>
          </div>
        </div>
        <div class="col-md-6 col-xs-12">
          <div class="row">
            <div class="col-sm-4">
              <label for="inputDeadline" class="label-order">Срок сдачи</label>
              <input type="text" id="inputDeadline" name="deadline" class="form-control" value="09.09.2021">
            </div>
            <div class="col-sm-4">
              <label for="inputSources" class="label-order">Кол-во источников</label>
              <input id="inputSources" name="sources" min="1" class="form-control" type="text">
            </div>
            <div class="col-sm-4">
              <label class="checkbox-order label-order">
                  <input class="default" type="checkbox" id="foreign_sources" name="foreign_sources" value="1">
                  <span class="check-label">Иностранные источники</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-sm-9 col-xs-12">
            <div class="row">
                <div class="col-sm-4">
                  <label for="inputOriginality" class="label-order">Оригинальность</label>
                  <select id="inputOriginality" class="form-select" name ="originality">
                    <option selected value="orig0">Неважно</option>
                    <option value="orig1">21%-30%</option>
                    <option value="orig2">31%-40%</option>
                    <option value="orig3">41%-50%</option>
                    <option value="orig4">51%-60%</option>
                    <option value="orig5">61%-70%</option>
                    <option value="orig6">71%-80%</option>
                    <option value="orig7">81%-90%</option>
                    <option value="orig8">91%-100%</option>
                  </select>
                </div>
                <div class="col-sm-8">
                      <label for="inputPlagiat" class="label-order">Проверка</label>
                      <select id="inputPlagiat" class="form-select" name ="plagiat">
                        <option value="plag0">Проверка по eTXT</option>
                        <option selected value="plag1">Проверка по antiplagiat.ru</option>
                        <option value="plag2">Антиплагиат ВУЗ</option>
                      </select>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-3 col-xs-12 co_provider_wrap">
          <label class="checkbox-order label-order">
            <input type="checkbox" id="plagi_report" name="plagi_report" value="1">
            <span class="check-label">Отчёт о плагиате</span>
          </label>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-6 col-xs-12">
          <label for="subject" class="label-order">Предмет</label>
          <input class="form-control" id="subject" name="subject" type="text" value="" autocomplete="off">
        </div>
        <div class="col-md-6 col-xs-12">
          <label for="topic "class="label-order">Тема</label>
          <input id="topic" name="topic" class="form-control" type="text" value="" style="">
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-xs-12">
          <label for="inputFont" class="label-order">Шрифт</label>
          <select id="inputFont" class="form-select" name ="font">
            <option selected value="font0">14 шрифт, полуторный интервал</option>
            <option value="font1">12 шрифт, полуторный интервал</option>
            <option value="font2">14 шрифт, одинарный интервал</option>
            <option value="font2">12 шрифт, одинарный интервал</option>
          </select>
        </div>
        <div class="col-md-6 col-xs-12">
          <label for="university" class="label-order">Вуз(необязательно)</label>
          <input class="form-control" id="university" name="university" type="text" value="">
        </div>
      </div>


      <div class="row">
        <div class="col-md-6 col-xs-12">
          <label for="inputAuthor" class="label-order">Квалификация автора</label>
          <select id="inputAuthor" class="form-select" name="author">
              <option selected value="author0">Лучший доступный автор (стандартная цена)</option>
              <option value="author1">Топ-автор с высокой средней оценкой</option>
              <option value="author2">Кандидат наук</option>
              <option value="author3">Доктор наук</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-xs-12">
          <label for="requirements" class="label-order">Требования(необязательно)</label>
          <textarea id="requirements" name="inputReq" class="form-control" cols="30" rows="3"></textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 col-xs-12">
          <div class="file-choose-block">
            <p style="font-size: 14px">Вы можете прикрепить до 5 файлов размером не более 10Мб</p>
              <div class="file">
                  <input id="inputFile" name="file" type="file">
              </div>
          </div>
        </div>
      </div>
    </div>

      <div class="counter-order-form top-b">
        <div class="row justify-content-center">
          <div class="col-md-6 col-xs-12 d-flex flex-column align-items-center">
            <h2>Расчёт стоимости работы</h2>
            <ul class="calc">
              <li>
                <span>Минимальная стоимость</span>
                <span>1,000.00 р.</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="counter-order-form top-b">
        <div class="row justify-content-center">
          <div class="col-md-6 col-xs-12 m-auto d-flex flex-column align-items-center">
            <div class="total-cost">
              <span class="">Итого</span>
              <span class="">= 1,000.00 р.</span>
            </div>
            <button type="submit" class="btn btn-primary btn-block" id="order-btn">Заказать</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

{{/if}}

<div class="modal" tabindex="-1" id='myModal'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Предупреждение</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Вы уверены, что хотите удалить профиль?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
        <button type="button" class="btn btn-primary"  id="deleteProfile">Продолжить</button>
      </div>
    </div>
  </div>
</div>
<div class="modal" tabindex="-1" id='myModalCancel'>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Предупреждение</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Вы уверены, что хотите отменить заказ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
        <button type="button" class="btn btn-primary"  id="cancel">Продолжить</button>
      </div>
    </div>
  </div>
</div>